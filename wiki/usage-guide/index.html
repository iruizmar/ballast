

<!DOCTYPE html>
<html class="">
<head>






<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.21.1"/>
<link rel="icon" href="https://copper-leaf.github.io/ballast/favicon.ico">


<meta name="robots" content="index, follow">



<title>Usage Guide</title>


<meta name="description" content="Opinionated Application State Management framework for Kotlin Multiplatform">



<link rel="prev" href="https://copper-leaf.github.io/ballast/wiki/mental-model">


<link rel="next" href="https://copper-leaf.github.io/ballast/wiki/platforms">


<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/css/bulma.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/css/extraCss.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/css/bulma-tooltip.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/css/bulma-accordion.min.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/assets/css/orchidSearch.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/PrismJS/prism-themes/master/themes/prism-duotone-light.css"  />
<link rel="stylesheet" type="text/css" href="https://copper-leaf.github.io/ballast/assets/css/mermaid_bulma.css"  />
<!-- end:inject styles -->



<script>
    window.site = {"orchidVersion":"0.21.1","baseUrl":"https://copper-leaf.github.io/ballast","environment":"prod","version":"2.1.0"};
</script>


    <!-- start:inject meta-components [head] -->
    
    <!-- end:inject meta-components [head] -->



    <!-- start:inject meta-components [head] -->
    

        
            
        

        
            
        
            
        
            
        
    
    <!-- end:inject meta-components [head] -->







</head>
<body class="">





    <!-- start:inject meta-components [bodyStart] -->
    
    <!-- end:inject meta-components [bodyStart] -->



    <!-- start:inject meta-components [bodyStart] -->
    

        
            
        

        
    
    <!-- end:inject meta-components [bodyStart] -->





<div class="columns is-marginless is-desktop">

  <div class="column is-one-third-desktop is-one-quarter-widescreen is-one-fifth-fullhd is-paddingless column-main-left is-hidden-mobile is-hidden-touch">
  


    


<section class="hero is-primary is-bold is-fullheight">


<!-- Hero header: will stick at the top -->
<div class="hero-head" style="padding: 0 1.5rem">
  <p class="title is-1 has-text-centered" style="margin-top: 3.5rem; margin-bottom: 2.5rem;">Ballast</p>
  <p class="subtitle is-4 has-text-centered">Opinionated Application State Management framework for Kotlin Multiplatform</p>

  <div id="intellij-plugin-card"></div>

  <div class="columns is-mobile has-text-centered">
  


  


  </div>
</div>




<!-- Hero content: will be in the middle -->
<div class="hero-body">
  <div class="container sidebar-menu">
    <details class="is-hidden-desktop">
      <summary>
        Menu
      </summary>
      <div id="mobile-sidebar-menu"></div>
    </details>
    <div class="is-hidden-touch">
      <aside class="menu" id="responsive-menu-content">
      
  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast 2059702021 -->
  <a href="https://copper-leaf.github.io/ballast" class="">
  
  Home
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/feature-overview 2111746687 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/feature-overview" class="">
  
  Features
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/mental-model 940077890 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/mental-model" class="">
  
  Thinking in Ballast MVI
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/usage-guide" class="is-active">
  
  Usage Guide
  </a>
</li>

</ul>
  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms 783402517 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms" class="">
  
  Platforms
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/android 645190902 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/android" class="">
  
  Android
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/ios 1570578713 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/ios" class="">
  
  iOS
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/compose-desktop 704948997 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/compose-desktop" class="">
  
  Compose Desktop (JVM)
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/compose-web 710589756 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/compose-web" class="">
  
  Compose Web (JS)
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules 621373425 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules" class="">
  
  Modules
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-core 633468398 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-core" class="">
  
  Ballast Core
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-saved-state 79488555 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-saved-state" class="">
  
  Ballast Saved State
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-repository 2079332573 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-repository" class="">
  
  Ballast Repository
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-firebase 363384509 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-firebase" class="">
  
  Ballast Firebase
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-debugger 1064052579 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-debugger" class="">
  
  Ballast Debugger
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-intellij-plugin 1552024347 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-intellij-plugin" class="">
  
  Ballast Intellij Plugin
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-test 718781734 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-test" class="">
  
  Ballast Test
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples 1019474238 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples" class="">
  
  Examples
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/counter 1773373551 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/counter" class="">
  
  Simple Counter
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/scorekeeper 1406340387 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/scorekeeper" class="">
  
  Scorekeeper
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/bgg-api 1157276914 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/bgg-api" class="">
  
  API Call and Cache
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/kitchensink 1737750354 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/kitchensink" class="">
  
  Kitchen Sink
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/kamp-kit 303491903 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/kamp-kit" class="">
  
  KaMPKit
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/feature-comparison 1508333131 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/feature-comparison" class="">
  
  Feature Comparison
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/roadmap 1210819761 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/roadmap" class="">
  
  Roadmap
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/changelog 813364097 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/changelog" class="">
  
  Changelog
  </a>
</li>

</ul>
  


      </aside>
    </div>
  </div>
</div>

<script type="text/javascript">
  function copyElem(fromId, toId) {
    var fromElementContent = document.getElementById(fromId);
    var toElementContent = document.getElementById(toId);
    toElementContent.outerHTML = fromElementContent.outerHTML;
  }

  document.addEventListener("DOMContentLoaded", function (event) {
    copyElem('responsive-menu-content', 'mobile-sidebar-menu');
  });
</script>


</section>

  </div>
  <div class="column is-one-third-desktop is-one-quarter-widescreen is-one-fifth-fullhd is-paddingless column-main-left is-hidden-desktop">
  


    


<section class="hero is-primary is-bold ">


<!-- Hero header: will stick at the top -->
<div class="hero-head" style="padding: 0 1.5rem">
  <p class="title is-1 has-text-centered" style="margin-top: 3.5rem; margin-bottom: 2.5rem;">Ballast</p>
  <p class="subtitle is-4 has-text-centered">Opinionated Application State Management framework for Kotlin Multiplatform</p>

  <div id="intellij-plugin-card"></div>

  <div class="columns is-mobile has-text-centered">
  


  


  </div>
</div>




<!-- Hero content: will be in the middle -->
<div class="hero-body">
  <div class="container sidebar-menu">
    <details class="is-hidden-desktop">
      <summary>
        Menu
      </summary>
      <div id="mobile-sidebar-menu"></div>
    </details>
    <div class="is-hidden-touch">
      <aside class="menu" id="responsive-menu-content">
      
  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast 2059702021 -->
  <a href="https://copper-leaf.github.io/ballast" class="">
  
  Home
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/feature-overview 2111746687 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/feature-overview" class="">
  
  Features
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/mental-model 940077890 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/mental-model" class="">
  
  Thinking in Ballast MVI
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/usage-guide" class="is-active">
  
  Usage Guide
  </a>
</li>

</ul>
  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms 783402517 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms" class="">
  
  Platforms
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/android 645190902 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/android" class="">
  
  Android
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/ios 1570578713 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/ios" class="">
  
  iOS
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/compose-desktop 704948997 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/compose-desktop" class="">
  
  Compose Desktop (JVM)
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/platforms/compose-web 710589756 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/platforms/compose-web" class="">
  
  Compose Web (JS)
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules 621373425 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules" class="">
  
  Modules
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-core 633468398 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-core" class="">
  
  Ballast Core
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-saved-state 79488555 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-saved-state" class="">
  
  Ballast Saved State
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-repository 2079332573 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-repository" class="">
  
  Ballast Repository
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-firebase 363384509 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-firebase" class="">
  
  Ballast Firebase
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-debugger 1064052579 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-debugger" class="">
  
  Ballast Debugger
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-intellij-plugin 1552024347 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-intellij-plugin" class="">
  
  Ballast Intellij Plugin
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/modules/ballast-test 718781734 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-test" class="">
  
  Ballast Test
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples 1019474238 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples" class="">
  
  Examples
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/counter 1773373551 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/counter" class="">
  
  Simple Counter
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/scorekeeper 1406340387 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/scorekeeper" class="">
  
  Scorekeeper
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/bgg-api 1157276914 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/bgg-api" class="">
  
  API Call and Cache
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/kitchensink 1737750354 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/kitchensink" class="">
  
  Kitchen Sink
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/examples/kamp-kit 303491903 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/examples/kamp-kit" class="">
  
  KaMPKit
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/feature-comparison 1508333131 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/feature-comparison" class="">
  
  Feature Comparison
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/roadmap 1210819761 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/roadmap" class="">
  
  Roadmap
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=https://copper-leaf.github.io/ballast/wiki/changelog 813364097 -->
  <a href="https://copper-leaf.github.io/ballast/wiki/changelog" class="">
  
  Changelog
  </a>
</li>

</ul>
  


      </aside>
    </div>
  </div>
</div>

<script type="text/javascript">
  function copyElem(fromId, toId) {
    var fromElementContent = document.getElementById(fromId);
    var toElementContent = document.getElementById(toId);
    toElementContent.outerHTML = fromElementContent.outerHTML;
  }

  document.addEventListener("DOMContentLoaded", function (event) {
    copyElem('responsive-menu-content', 'mobile-sidebar-menu');
  });
</script>


</section>

  </div>

  <div class="column is-two-thirds-desktop is-three-quarters-widescreen is-four-fifths-fullhd is-paddingless column-main-right">
  

<nav
  class="navbar is-white border-bottom"
  role="navigation"
  aria-label="main navigation"
>
  <div class="container">
    <div class="navbar-brand is-marginless">

      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMain">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu is-marginless" id="navbarMain">
      <div class="navbar-start">
      
<div class="navbar-item">
  <form id="search-input" data-orchid-search>
    <div class="field is-marginless" id="search">
      <div class="control has-icons-left input-control">
        <input class="input" type="text" name="query" placeholder="Search Ballast">

        <span class="icon is-small is-left">
          <i class="fas fa-search"></i>
        </span>

        <div id="search-progress" data-orchid-search-progress style="display: none;">
          <div class="loader">Loading...</div>
        </div>
      </div>
    </div>
    <div id="search-results" data-orchid-search-results style="display: none;">
      <div class="carat"></div>
      <b>
        Search Results
        <i class="fa fa-times" aria-hidden="true" onclick="$('[data-orchid-search-results]').hide()"></i>
      </b>
      <ul></ul>
    </div>
  </form>
</div>

      

  
  
    

<a class="navbar-item " href="https://github.com/orchidhq/Orchid">
Orchid
</a>


  

  
  
    
<div class="navbar-item has-dropdown is-hoverable">


<a class="navbar-item " href="">
Copper Leaf
</a>


  <div class="navbar-dropdown">
  
      

<a class="navbar-item " href="https://github.com/copper-leaf/common">
Common
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/clog">
Clog
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/kudzu">
Kudzu
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/trellis">
Trellis
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/thistle">
Thistle
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/ballast">
Ballast
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/kodiak">
Kodiak
</a>


    
      

<a class="navbar-item " href="https://github.com/copper-leaf/krow">
Krow
</a>


    
  </div>
</div>

  


      </div>

      <div class="navbar-end">
      

<div class="navbar-item social-item">
  <a class="icon" href="https://github.com/copper-leaf" title="Copper Leaf Home">
    <i class="fas fa-home"></i>
  </a>
</div>

<div class="navbar-item social-item">
  <a class="icon" href="https://github.com/copper-leaf/ballast" title="Github">
    <i class="fab fa-github"></i>
  </a>
</div>

<div class="navbar-item social-item">
  <a class="icon" href="https://twitter.com/OrchidSSG" title="Twitter">
    <i class="fab fa-twitter"></i>
  </a>
</div>


      </div>
    </div>
  </div>
</nav>


    <div class="textured container" style="width: 100%;">
    
    

    
    
      <article style="position: relative; margin-top: 60px; margin-bottom: 60px;" role="main">
      
      
        <div class="box">
        

<div class="columns">
  <div class="column is-three-quarters-desktop">
  
    <!-- start:inject components -->
    
        
            
                
                    
                        <div class="content is-medium-tablet is-large-fullhd">
<h1 id="usage-guide"><a href="#usage-guide" id="usage-guide" class="anchor"></a>Usage Guide</h1>
<p>Ballast is an opinionated library, and it was carefully designed to give you a standard workflow for all types of
screens or components in your application, and on any platform.</p>
<p>Each platform will have some of its own special setup that may be needed, but the general workflow will be the same, as
outlined here. This guide will cover the basics of getting set up and productive with Ballast, and will try to avoid
any platform-specific functionality, or provide examples for multiple platforms to help you understand the workflow more
generally. Refer to each individual <a href="https://copper-leaf.github.io/ballast/wiki/platforms">Platform</a> for further instructions necessary for that platform.</p>
<h2 id="high-level-workflow"><a href="#high-level-workflow" id="high-level-workflow" class="anchor"></a>High-level Workflow</h2>
<p>The general workflow for Ballast involves the following steps:</p>
<ol>
<li>Define a Contract</li>
<li>Write the InputHandler</li>
<li>Write the EventHandler</li>
<li>Combine everything into a ViewModel</li>
<li>Inject the ViewModel to your UI and start using it</li>
</ol>
<p>These steps are described in more depth <a href="#Ballast-Workflow">below</a>, and while this workflow does involve a bit of
boilerplate the <a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-intellij-plugin">Intellij plugin</a> can help you in quickly scaffolding out all of these classes.</p>
<h2 id="project-architecture"><a href="#project-architecture" id="project-architecture" class="anchor"></a>Project Architecture</h2>
<p>Ballast generally works best as part of a layered architecture, consisting of the following layers:</p>
<h3 id="ui"><a href="#ui" id="ui" class="anchor"></a>UI</h3>
<p>At the UI layer, you will have things broken up into Screens or Components per your own requirements, and these UI
pieces should be a &quot;reactive&quot; UI. This basically means that the entire UI for that screen is driven from a State object,
and the entire UI is updated whenever any part of the State changes. Frameworks like Compose or React were obviously
built to apply these updates efficiently, but non-reactive UI frameworks can be adapted to this pattern fairly easily,
so using a &quot;reactive UI framework&quot; is not necessary to use Ballast.</p>
<p>Note that &quot;screens&quot; is primarily referring to a Mobile form-factor, while &quot;components&quot; refers more to Desktop or Web.
Also a &quot;component&quot; as used in this guide would be a bigger, more complex chunk of UI than just a React component, for
example. Think of components basically as a small portion of the entire Web/Desktop screen that is basically its own
feature, such as a data table with all the filtering capabilities or a tool panel in an IDE, something that would
basically need to be its own screen on a mobile device.</p>
<h3 id="viewmodel"><a href="#viewmodel" id="viewmodel" class="anchor"></a>ViewModel</h3>
<p>Since each screen/component is reactive and driven by a State, you need something to manage that State, which we call a
ViewModel. The purpose of the ViewModel is to live <em>at least</em> as long as the Screen (potentially longer depending on
platform implementation), and be the class to hold and update the State, dispatching changes back to the UI.</p>
<p>There should be a 1-to-1 relationship between screens and ViewModels. Each screen should really only be observing a
single ViewModel, and each ViewModel should not be shared between different screens. If data should be shared between
multiple screens/components it should either be passed from one to the other during navigation, or else managed in the
Repository layer and observed from both screen's ViewModels.</p>
<p>This is the layer that Ballast was primarily designed to implement.</p>
<h3 id="repository"><a href="#repository" id="repository" class="anchor"></a>Repository</h3>
<p>The data stored in each screen's ViewModel is really just the local state for that screen, divorced from any persistent
application state. It only knows what is directly needed for that one screen, but there will be a lot more data needed
in an application than just what is visible on the screen. For example, account session tokens, profile information,
user preferences, and other data like that will necessarily live much longer than a single screen, and likely needs to
be shared among different screens (potentially at the same time).</p>
<p>The Repository layer's job is to manage all that data and expose a clean interface to the ViewModels that abstracts away
the complexity of those underlying data sources. The Repository layer shouldn't expose database or API models directly
to the ViewModel, because those structures are likely to change or use &quot;unsafe&quot; values (nulls,
<a href="https://wiki.c2.com/?StringlyTyped">stringly-typed values</a>, etc). Instead, it should map those models to safer ones that are easier to work with in the
UI (by parsing Strings into the proper enums, providing default values for nulls, etc.), thereby isolating the UI from
changes to the API or database structure.</p>
<p>By its nature, the Repository layer can be a bit precarious to work on, because one change can affect many parts of your
application. It's also largely an exercise in caching, which we all know is a <a href="https://martinfowler.com/bliki/TwoHardThings.html">hard problem</a>. Traditionally, the
libraries and code that implemented the repository layer was very different from the ViewModel layer, but Ballast's
<a href="https://copper-leaf.github.io/ballast/wiki/modules/ballast-repository">Repository module</a> allows you to use the same mental model for building both, reducing the difficulty of
context-switching and making the repository layer less intimidating and easier to understand and work with.</p>
<h3 id="final-thoughts-on-architecture"><a href="#final-thoughts-on-architecture" id="final-thoughts-on-architecture" class="anchor"></a>Final Thoughts on Architecture</h3>
<p>You'll notice that this layering does not describe any kind of &quot;API layer&quot; or &quot;Database layer&quot;, and that is intentional.
It's best to think of those not as discrete layers, but rather just as data sources that are exposed through the
Repository layer. If you think of the API or Database as a &quot;layer&quot;, you will naturally want to conform your application
to the structure of those, which will cause problems if there are any major changes needed in them later on. Instead,
just build your app using models you define that are easy to work with, and use the Repository layer to conform the API
to the structure of your application.</p>
<p>And finally, here's a diagram showing an example application designed with this architecture. Consider a basic TODO app
that users must log-in to use.</p>
<pre><code class="language-mermaid">flowchart TD
    subgraph UI
        Login[Login Screen]
        Registration[Registration Screen]
        ToDoList[ToDo List Screen]
        ToDoDetails[ToDo Details Screen]
    end

    subgraph ViewModel
        LoginVm[LoginViewModel]
        RegistrationVm[RegistrationViewModel]
        ToDoListVm[ToDoListViewModel]
        ToDoDetailsVm[ToDoDetailsViewModel]
    end

    subgraph Repository
        AccountRepository[AccountRepository]
        RegistrationRepository[RegistrationRepository]
        ToDoRepository[ToDoRepository]
    end

    ToDoDb[(Local ToDo Database)]
    ToDoApi(ToDo API)
    AuthProvider(Authentication Provider)

    ToDoDb&lt;--&gt;ToDoRepository
    ToDoApi&lt;--&gt;ToDoRepository

    AuthProvider&lt;--&gt;AccountRepository
    AuthProvider&lt;--&gt;RegistrationRepository

    RegistrationRepository&lt;--&gt;RegistrationVm

    AccountRepository&lt;--&gt;LoginVm
    AccountRepository&lt;--&gt;ToDoListVm
    AccountRepository&lt;--&gt;ToDoDetailsVm

    ToDoRepository&lt;--&gt;ToDoListVm
    ToDoRepository&lt;--&gt;ToDoDetailsVm

    LoginVm--States--&gt;Login
    Login--Inputs--&gt;LoginVm
    
    RegistrationVm--States--&gt;Registration
    Registration--Inputs--&gt;RegistrationVm
    
    ToDoListVm--States--&gt;ToDoList
    ToDoList--Inputs--&gt;ToDoListVm
    
    ToDoDetailsVm--States--&gt;ToDoDetails
    ToDoDetails--Inputs--&gt;ToDoDetailsVm
</code></pre>
<h2 id="ballast-workflow"><a href="#ballast-workflow" id="ballast-workflow" class="anchor"></a>Ballast Workflow</h2>
<p>This section goes more in-depth into the individual components needed for the full Ballast Workflow. For a quick,
high-level listing of the classes needed, see <a href="#high-level-workflow">High-level Workflow</a>.</p>
<h3 id="define-a-contract"><a href="#define-a-contract" id="define-a-contract" class="anchor"></a>Define a Contract</h3>
<p>The first step for using Ballast on any screen is to define the Contract. The Contract provides a structure for what
data will be changing in your screen (the State), and how you will be interacting with it (Inputs), which gives you a
single place to go to understand everything you need to know about any given screen. By having a dedicated Contract, you
won't have any hidden or undocumented functionality that is difficult to reproduce.</p>
<p>If you're using Ballast in a multiplatform project, the Contract should be in the <code>commonMain</code> sourceSet.</p>
<p>See more about defining your contract in <a href="https://copper-leaf.github.io/ballast/wiki/mental-model#UI Contract">Thinking in Ballast MVI</a>.</p>
<pre><code class="language-kotlin">object LoginScreenContract {
    data class State(
        val username: TextFieldValue,
        val password: TextFieldValue,
    )

    sealed class Inputs {
        data class UsernameChanged(val newValue: TextFieldValue) : Inputs()
        data class PasswordChanged(val newValue: TextFieldValue) : Inputs()
        object LoginButtonClicked : Inputs()
        object RegisterButtonClicked : Inputs()
    }

    sealed class Events {
        object NavigateToDashboard : Events()
        object NavigateToRegistration : Events()
    }
}
</code></pre>
<h3 id="write-the-inputhandler"><a href="#write-the-inputhandler" id="write-the-inputhandler" class="anchor"></a>Write the InputHandler</h3>
<p>After defining the contract, you should then write the InputHandler to process the Inputs as they are received. The
InputHandler is the class that will be talking to your Repository layer, so any necessary Repositories should be
provided through the InputHandler's contructor</p>
<p>If you're using Ballast in a multiplatform project, the InputHandler should be in the <code>commonMain</code> sourceSet.</p>
<p>See more about writing your InputHandler in <a href="https://copper-leaf.github.io/ballast/wiki/feature-overview#Input Handlers">Features</a>.</p>
<pre><code class="language-kotlin">import LoginScreenContract.*

class LoginScreenInputHandler(
    private val loginRepository: LoginRepository,
) : InputHandler&lt;Inputs, Events, State&gt; {
    override suspend fun InputHandlerScope&lt;Inputs, Events, State&gt;.handleInput(
        input: Inputs
    ) = when (input) {
        is UsernameChanged -&gt; { }
        is PasswordChanged -&gt; { }
        is LoginButtonClicked -&gt; { }
        is RegisterButtonClicked -&gt; { }
    }
}
</code></pre>
<h3 id="connect-to-the-platform-ui"><a href="#connect-to-the-platform-ui" id="connect-to-the-platform-ui" class="anchor"></a>Connect to the Platform UI</h3>
<p>The last step is to actually use Ballast to build out your interactive UI. This typically involves several steps that
will all be specific to the target you're running Ballast on, but compared to the effort involved with the Contract and
InputHandler, are relatively simple. So even though there is some platform-specific functionality you'll need to write,
you will still be sharing the majority of the business-logic code in your application.</p>
<p>If you are using Ballast in a multiplatform application, the following pieces will typically be defined in the
platform-specific sourceSets rather than in <code>commonMain</code>.</p>
<h4 id="viewmodel-1"><a href="#viewmodel-1" id="viewmodel-1" class="anchor"></a>ViewModel</h4>
<p>The first step is to define the ViewModel class for each <a href="https://copper-leaf.github.io/ballast/wiki/platforms">platform</a>. This will vary slightly depending on which
platform you target, so that the ViewModel integrates well with the platform's normal lifecycle. For example, on
Android, you'll make your screen's ViewModel extend <code>AndroidViewModel</code>, which is an instance of
<code>androidx.lifecycle.ViewModel</code> that can be provided via Hilt or Navigation-Compose. For platforms that don't have their
own specific ViewModel implementation, or for use-cases where you want to manually control the ViewModel's lifecycle
through a <code>CoroutineScope</code>, you can use <code>BasicViewModel</code> as the base class.</p>
<p>All ViewModel implementations will look pretty similar, regardless of the base class used. You'll need to create a
<code>BallastViewModelConfiguration</code> and pass it to the base class's constructor, along with any additional parameters needed
for the specific implementation, if any (for example, the <code>CoroutineScope</code> of a <code>BasicViewModel</code>). This is easiest to
do with <code>BallastViewModelConfiguration.Builder</code>, but you can also structure everything with Dependency Injection, too
(see section below on <a href="#dependency-injection">Dependency Injection</a>). The <code>BallastViewModelConfiguration.Builder</code> is
where you will specify the InputHandler and initial State for the ViewModel, as well as providing other more generic
configuration such as loggers or interceptors.</p>
<p>Despite each platform's native ViewModel being named the same and looking very similar, you typically wouldn't define it
with <code>actual/expect</code> declarations in a multiplatform project because there's usually no need to share the ViewModel
itself in common code, so it just creates unnecessary overhead. Furthermore, the base classes for each platform
typically have different constructors, so it's difficult to provide an <code>actual/expect</code> that is actually useful in common
code for simplifying any DI. It's best to just provide the ViewModel implementations from the platform-specific DI
modules.</p>
<pre><code class="language-kotlin">// androidMain/ui/login/LoginScreenViewModel.kt
class LoginScreenViewModel() : AndroidViewModel&lt;
    LoginScreenContract.Inputs,
    LoginScreenContract.Events,
    LoginScreenContract.State&gt;(
    config = BallastViewModelConfiguration.Builder()
        .apply {
            this += LoggingInterceptor()
            logger = { AndroidBallastLogger(it) }
        }
        .forViewModel(
            initialState = LoginScreenContract.State(),
            inputHandler = LoginScreenInputHandler(),
            name = &quot;LoginScreen&quot;,
        )
)

// jsMain/ui/login/LoginScreenViewModel.kt
class LoginScreenViewModel(
    viewModelCoroutineScope: CoroutineScope
) : BasicViewModel&lt;
    LoginScreenContract.Inputs,
    LoginScreenContract.Events,
    LoginScreenContract.State&gt;(
    config = BallastViewModelConfiguration.Builder()
        .apply {
            this += LoggingInterceptor()
            logger = { JsConsoleBallastLogger(it) }
        }
        .forViewModel(
            initialState = LoginScreenContract.State(),
            inputHandler = LoginScreenInputHandler(),
            name = &quot;LoginScreen&quot;,
        ),
    eventHandler = LoginScreenEventHandler(),
    coroutineScope = viewModelCoroutineScope,
)
</code></pre>
<h4 id="eventhandler"><a href="#eventhandler" id="eventhandler" class="anchor"></a>EventHandler</h4>
<p>The next step is to define an <code>EventHandler</code> for your ViewModel. The implementation will look very similar to an
InputHandler, except that it will typically need a different implementation on each platform for handling things like
navigation requests (though this may not always be the case if you have your routing/navigation implemented entirely in
common code).</p>
<pre><code class="language-kotlin">import LoginScreenContract.*

class LoginScreenEventHandler : EventHandler&lt;Inputs, Events, State&gt; {
    override suspend fun EventHandlerScope&lt;Inputs, Events, State&gt;.handleEvent(
        event: Events
    ) = when (event) {
        is Events.Notification -&gt; { }
    }
}
</code></pre>
<p>You may have noticed from the example ViewModel code above that the <code>BasicViewModel</code> has you providing the EventHandler
directly in its constructor, while the <code>AndroidViewModel</code> does not. This is because EventHandlers are closely related to
the lifecycle of the ViewModel, but don't necessarily follow the exact same lifecycle. The EventHandler typically lives
as long as the screen is active, but the ViewModel itself may be retained across multiple times of the screen being
stopped and started.</p>
<p>For a <code>BasicViewModel</code>, the lifecycle of the Screen, ViewModel, and EventHandler are all the same, and they're all
controlled by the lifetime of the <code>CoroutineScope</code>. When moving to a new screen, the screen's <code>CoroutineScope</code> is
cancelled, the ViewModel's processing is stopped, and the EventHandler detached. For this reason, the <code>EventHandler</code> is
provided through the <code>BasicViewModel</code>'s constructor, to make sure they all respect the same lifecycle.</p>
<p>But on Android, it is not possible to use Hilt to inject a ViewModel with anything that depends on the Activity, since a
ViewModel lives longer than the Activity. Since the <code>EventHandler</code> is commonly used for handling Navigation requests,
and navigation is done by the activity through <code>Activity.startActivity()</code> or <code>findNavController().navigate()</code>, it is
impossible to inject the <code>EventHandler</code> directly into the ViewModel, but instead it must be attached dynamically after
the ViewModel has been injected. See the <a href="https://copper-leaf.github.io/ballast/wiki/platforms/android">Android platform page</a> for specific instructions.</p>
<h4 id="ui-1"><a href="#ui-1" id="ui-1" class="anchor"></a>UI</h4>
<p>The final piece of the Ballast puzzle is actually defining your UI given the Ballast State. This typically involves
creating or accessing an instance of your ViewModel and observing its State as a <code>StateFlow</code> with
<code>viewModel.observeStates()</code>. On each emission of that StateFlow, you will update the entire UI of the screen with the
new State, as per for the platform-specific requirements.</p>
<p>On platforms that require the native programming language to use rather than Kotlin (SwiftUI, for example), there may be
some boilerplate needed to wrap the Kotlin coroutines and <code>StateFlow</code> into something that the platform's native code can
integrate with. But on Android, and using Compose for Desktop or Web, this is easily done in Kotlin. See each
<a href="https://copper-leaf.github.io/ballast/wiki/platforms">platform's</a> instructions for how to connect to the actual UI toolkit.</p>
<h2 id="dependency-injection"><a href="#dependency-injection" id="dependency-injection" class="anchor"></a>Dependency Injection</h2>
<p>Most apps will use some kind of DI, and Ballast is set up very well to provide all the necessary pieces via DI. Some of
the classes, especially the InputHandler, can typically be provided in common code, but other classes, like the
ViewModel or EventHandler, must be provided in the platform-specific modules.</p>
<p>The best way to save time and LOC with DI is to provide a common definition of <code>BallastViewModelConfiguration.Builder</code>
with the configuration common to all ViewModels (the Logging and Debugger Interceptors, for example), and then using
that common builder to create the actual configuration for each ViewModel. Rewriting the ViewModel class to be setup
with DI might look something like this:</p>
<pre><code class="language-kotlin">class LoginScreenViewModel(
    config: BallastViewModelConfiguration&lt;
        LoginScreenContract.Inputs,
        LoginScreenContract.Events,
        LoginScreenContract.State&gt;,
) : AndroidViewModel&lt;
    LoginScreenContract.Inputs,
    LoginScreenContract.Events,
    LoginScreenContract.State&gt;(
    config = config
)
</code></pre>
<p>Using Koin on Android, the DI might look like this:</p>
<pre><code class="language-kotlin">val platformModule = module {
    factory&lt;LoginApi&gt; {
        LoginApiImpl()
    }
    single&lt;LoginRepository&gt; {
        LoginRepositoryImpl(
            loginApi = get()
        )
    }
    factory&lt;BallastViewModelConfiguration.Builder&gt; {
        BallastViewModelConfiguration.Builder()
            .apply {
                this += LoggingInterceptor()
                logger = { AndroidBallastLogger(it) }
            }
    }
    factory&lt;LoginScreenInputHandler&gt; {
        LoginScreenInputHandler(
            loginRepository = get()
        )
    }
    viewModel&lt;LoginScreenViewModel&gt; { 
        LoginScreenViewModel(
            config = get&lt;BallastViewModelConfiguration.Builder&gt;()
                .forViewModel(
                    initialState = LoginScreenContract.State(),
                    inputHandler = get&lt;LoginScreenInputHandler&gt;(),
                    name = &quot;LoginScreen&quot;,
                ),
        ) 
    }
}

class LoginActivity : AppCompatActivity(), KoinComponent {
    private val viewModel: LoginScreenViewModel by viewModel()
}
</code></pre>
<p>For some platforms, you will need to provide parameters from the UI when accessing the ViewModel instance, such as a
<code>CoroutineScope</code>. This is done through assisted injection. Again using Koin, this is what this would look like for JS:</p>
<pre><code class="language-kotlin">val platformModule = module {
    factory&lt;LoginApi&gt; {
        LoginApiImpl()
    }
    single&lt;LoginRepository&gt; {
        LoginRepositoryImpl(
            loginApi = get()
        )
    }
    factory&lt;BallastViewModelConfiguration.Builder&gt; {
        BallastViewModelConfiguration.Builder()
            .apply {
                this += LoggingInterceptor()
                logger = { JsConsoleBallastLogger(it) }
            }
    }
    factory&lt;LoginScreenInputHandler&gt; {
        LoginScreenInputHandler(
            loginRepository = get()
        )
    }
    factory&lt;LoginScreenViewModel&gt; { (coroutineScope: CoroutineScope) -&gt;
        LoginScreenViewModel(
            config = get&lt;BallastViewModelConfiguration.Builder&gt;()
                .forViewModel(
                    initialState = LoginScreenContract.State(),
                    inputHandler = get&lt;LoginScreenInputHandler&gt;(),
                    name = &quot;LoginScreen&quot;,
                ),
        ) 
    }
}

class LoginPage : KoinComponent {
    @Composable
    fun LoginContent() {
        val viewModelScope = rememberCoroutineScope()
        val viewModel: LoginScreenViewModel = remember(viewModelScope) { get { parametersOf(viewModelScope) } }
    }
}
</code></pre>
<p>Of course, it is possible to use Ballast with any other DI tool out there as well, such as Dagger/Hilt, Kodein, or even
hand-written DI. The process for using any of those options will be very similar, just using that tool's specific DSL
for providing and accessing instances of each class.</p>
<h2 id="folder-structure"><a href="#folder-structure" id="folder-structure" class="anchor"></a>Folder Structure</h2>
<p>It's best to structure your applications such that each screen is in its own subfolder of <code>ui/</code>, which contains all of
the relevant classes for both Ballast and the UI. Likewise, each Repository should be in its own folder of
<code>repository/</code>.</p>
<p>For example, in a pure-Android application, the <a href="https://copper-leaf.github.io/ballast/wiki/examples">four examples</a> would
be structured like this:</p>
<pre><code>app/
└── src/main/kotlin/
    ├── api/
    │   └── bgg/
    │       └── BggApi.kt
    ├── repository/
    │   └── bgg/
    │       ├── BggRepository.kt
    │       ├── BggRepositoryImpl.kt
    │       ├── BggRepositoryContract.kt
    │       └── BggRepositoryInputHandler.kt
    ├── ui/
    │   ├── counter/
    │   │   ├── CounterContract.kt
    │   │   ├── CounterInputHandler.kt
    │   │   ├── CounterEventHandler.kt
    │   │   ├── CounterViewModel.kt
    │   │   └── CounterFragment.kt
    │   ├── scorekeeper/
    │   │   ├── ScorekeeperContract.kt
    │   │   ├── ScorekeeperInputHandler.kt
    │   │   ├── ScorekeeperEventHandler.kt
    │   │   ├── ScorekeeperViewModel.kt
    │   │   └── ScorekeeperFragment.kt
    │   ├── bgg/
    │   │   ├── BggContract.kt
    │   │   ├── BggInputHandler.kt
    │   │   ├── BggEventHandler.kt
    │   │   ├── BggViewModel.kt
    │   │   └── BggFragment.kt
    │   └── kitchensink/
    │       ├── KitchenSinkContract.kt
    │       ├── KitchenSinkInputHandler.kt
    │       ├── KitchenSinkEventHandler.kt
    │       ├── KitchenSinkViewModel.kt
    │       └── KitchenSinkFragment.kt
    ├── MainApplication.kt
    └── MainActivity.kt
</code></pre>
<p>When using Ballast in a multiplatform app, the folder structure will not change, but you will have some of those classes
moved between the different sourceSets, as needed for each platform.</p>
<pre><code>app/
├── src/commonMain/kotlin/
│   ├── api/
│   │   └── bgg/
│   │       └── BggApi.kt
│   ├── repository/
│   │   └── bgg/
│   │       ├── BggRepository.kt
│   │       ├── BggRepositoryImpl.kt
│   │       ├── BggRepositoryContract.kt
│   │       └── BggRepositoryInputHandler.kt
│   └── ui/
│       ├── counter/
│       │   ├── CounterContract.kt
│       │   └── CounterInputHandler.kt
│       ├── scorekeeper/
│       │   ├── ScorekeeperContract.kt
│       │   └── ScorekeeperInputHandler.kt
│       ├── bgg/
│       │   ├── BggContract.kt
│       │   └── BggInputHandler.kt
│       └── kitchensink/
│           ├── KitchenSinkContract.kt
│           └── KitchenSinkInputHandler.kt
├── src/androidMain/kotlin/
│   ├── ui/
│   │   ├── counter/
│   │   │   ├── CounterEventHandler.kt
│   │   │   ├── CounterViewModel.kt
│   │   │   └── CounterFragment.kt
│   │   ├── scorekeeper/
│   │   │   ├── ScorekeeperEventHandler.kt
│   │   │   ├── ScorekeeperViewModel.kt
│   │   │   └── ScorekeeperFragment.kt
│   │   ├── bgg/
│   │   │   ├── BggEventHandler.kt
│   │   │   ├── BggViewModel.kt
│   │   │   └── BggFragment.kt
│   │   └── kitchensink/
│   │       ├── KitchenSinkEventHandler.kt
│   │       ├── KitchenSinkViewModel.kt
│   │       └── KitchenSinkFragment.kt
│   ├── MainApplication.kt
│   └── MainActivity.kt
├── src/iosMain/kotlin/
│   └── ui/
│       ├── counter/
│       │   ├── CounterEventHandler.kt
│       │   └── CounterViewModel.kt
│       ├── scorekeeper/
│       │   ├── ScorekeeperEventHandler.kt
│       │   └── ScorekeeperViewModel.kt
│       ├── bgg/
│       │   ├── BggEventHandler.kt
│       │   └── BggViewModel.kt
│       └── kitchensink/
│           ├── KitchenSinkEventHandler.kt
│           └── KitchenSinkViewModel.kt
└── src/jsMain/kotlin/
    ├── ui/
    │   ├── counter/
    │   │   ├── CounterEventHandler.kt
    │   │   ├── CounterViewModel.kt
    │   │   └── CounterComponent.kt
    │   ├── scorekeeper/
    │   │   ├── ScorekeeperEventHandler.kt
    │   │   ├── ScorekeeperViewModel.kt
    │   │   └── ScorekeeperComponent.kt
    │   ├── bgg/
    │   │   ├── BggEventHandler.kt
    │   │   ├── BggViewModel.kt
    │   │   └── BggComponent.kt
    │   └── kitchensink/
    │       ├── KitchenSinkEventHandler.kt
    │       ├── KitchenSinkViewModel.kt
    │       └── KitchenSinkComponent.kt
    └── main.kt
</code></pre>

</div>

                    
                
            
        
    
    <!-- end:inject components -->


  </div>
  
    <div class="column is-one-quarter is-hidden-touch">
      <div class="sticky-menu" style="position: sticky; top: 30px;">
  
  
    
<p class="menu-label">In This Page</p>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#high-level-workflow" class="">
  
  High-level Workflow
  </a>
</li>

</ul>
  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#project-architecture" class="">
  
  Project Architecture
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#ui" class="">
  
  UI
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#viewmodel" class="">
  
  ViewModel
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#repository" class="">
  
  Repository
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#final-thoughts-on-architecture" class="">
  
  Final Thoughts on Architecture
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    
<ul class="menu-list">

  

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#ballast-workflow" class="">
  
  Ballast Workflow
  </a>
</li>



  <li>
    <ul>
    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#define-a-contract" class="">
  
  Define a Contract
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#write-the-inputhandler" class="">
  
  Write the InputHandler
  </a>
</li>


    
      

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#connect-to-the-platform-ui" class="">
  
  Connect to the Platform UI
  </a>
</li>


    
    </ul>
  </li>
</ul>

  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#dependency-injection" class="">
  
  Dependency Injection
  </a>
</li>

</ul>
  

  
  
    <ul class="menu-list">

<li>
  <!-- page=https://copper-leaf.github.io/ballast/wiki/usage-guide 1746790527 -->
  <!-- menuItem.page=  -->
  <a href="#folder-structure" class="">
  
  Folder Structure
  </a>
</li>

</ul>
  

</div>
    </div>
  
</div>

        </div>
      
      
      </article>
    
      <div class="grow"></div>
      <div class="page-footer">
      
        <nav class="pagination is-rounded footer-pagination" role="navigation" aria-label="pagination">

  <a class="pagination-previous" href="https://copper-leaf.github.io/ballast/wiki/mental-model">
    <span class="icon"><i class="fas fa-chevron-left"></i></span>
    Thinking in Ballast MVI
  </a>



  <a class="pagination-next" href="https://copper-leaf.github.io/ballast/wiki/platforms">
    Platforms
    <span class="icon"><i class="fas fa-chevron-right"></i></span>
  </a>

</nav>

<footer class="footer border-top">
  <div class="content is-small">
  <p>
  Site proudly built with <a href="https://orchid.run/">Orchid</a>.<br>
</p>

  </div>
</footer>

      
      </div>
    </div>
  </div>
</div>






    <!-- start:inject meta-components [bodyEnd] -->
    
    <!-- end:inject meta-components [bodyEnd] -->



    <!-- start:inject meta-components [bodyEnd] -->
    

        
            
        

        
    
    <!-- end:inject meta-components [bodyEnd] -->




<!-- start:inject scripts -->
<script defer data-search-pseudo-elements="true" src="https://copper-leaf.github.io/ballast/Copper/94edbfce/releases/v5.4.0/js/all.js"></script>
<script  src="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/js/bulma.js"></script>
<script  src="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/js/bulma-accordion.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/Copper/94edbfce/assets/js/bulma-tabs.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/lunr/lunr.js"></script>
<script  src="https://copper-leaf.github.io/ballast/assets/js/orchidSearch.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/prism/1.17.1/components/prism-kotlin.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/prism/1.17.1/components/prism-java.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/prism/1.17.1/components/prism-groovy.min.js"></script>
<script  src="https://copper-leaf.github.io/ballast/ajax/libs/mermaid/8.13.9/mermaid.min.js"></script>
<script >
;

document.addEventListener('DOMContentLoaded', function() {
    mermaid.init({}, "code.language-mermaid");
});
</script>
<script  src="https://copper-leaf.github.io/ballast/assets/scripts/mp-widget.js"></script>
<script >

if(document.getElementById("intellij-plugin-button") != null) {
    MarketplaceWidget.setupMarketplaceWidget('install', 18702, "#intellij-plugin-button");
}
if(document.getElementById("intellij-plugin-card") != null) {
    MarketplaceWidget.setupMarketplaceWidget('card', 18702, "#intellij-plugin-card");
}
</script>
<!-- end:inject scripts -->


</body>
</html>
